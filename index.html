<form id="leadForm">
    <input type="text" id="name" placeholder="Your Name" required>
    <input type="text" id="phone" placeholder="Your Phone" required>
    <input type="text" id="city" placeholder="Your City" required>
    <button type="submit">Submit</button>
</form>

<script>
document.getElementById("leadForm").addEventListener("submit", async function (event) {
    event.preventDefault();

    let name = document.getElementById("name").value;
    let phone = document.getElementById("phone").value;
    let city = document.getElementById("city").value;

    try {
        let response = await fetch("https://script.google.com/macros/s/AKfycbyZ_a5wOV_pqSsi72ykEOR8F91fJDA8N0imXOCpDfhtHF2tgYqCKoIHyHnOjVAjtVta/exec", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ name, phone, city })
        });

        let result = await response.json();
        if (result.success) {
            window.location.href = "thankyou.html"; // Redirect on success
        } else {
            alert("Submission failed. Please try again.");
        }
    } catch (error) {
        alert("Failed to submit. Please check your internet connection.");
    }
});
</script>
